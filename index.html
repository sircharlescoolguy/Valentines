<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Valentine?</title>
  <style>
    :root{
      --pink:#ff4d88;
      --pink2:#ff2e74;
      --bg1:#ffd1dc;
      --bg2:#fff;
      --card: rgba(255,255,255,0.88);
      --shadow: rgba(255,77,136,0.18);
      --text:#171717;
    }

    *{ box-sizing:border-box; }
    body{
      margin:0;
      min-height:100vh;
      display:flex;
      align-items:center;
      justify-content:center;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial;
      background: radial-gradient(circle at top, var(--bg1), var(--bg2) 55%, #ffe6f0);
      color: var(--text);
      overflow:hidden;
      padding: 18px;
    }

    .wrap{ width:min(740px, 94vw); position:relative; }

    .card{
      background: var(--card);
      border: 1px solid rgba(255,105,180,0.25);
      box-shadow: 0 20px 60px var(--shadow);
      border-radius: 24px;
      padding: clamp(18px, 3vw, 28px);
      position:relative;
      overflow:hidden;
    }

    .badge{
      display:inline-block;
      padding:6px 10px;
      border-radius:999px;
      background: rgba(255,77,136,0.12);
      border:1px solid rgba(255,77,136,0.22);
      font-size: 13px;
      margin-bottom: 10px;
    }

    h1{
      margin: 0 0 6px;
      font-size: clamp(26px, 4vw, 42px);
      letter-spacing: -0.02em;
    }
    p{
      margin: 10px 0;
      line-height: 1.55;
      font-size: clamp(16px, 2.2vw, 18px);
      opacity: 0.92;
    }

    .question{
      margin-top: 14px;
      font-size: clamp(18px, 2.6vw, 20px);
      font-weight: 800;
    }

    .btnRow{
      margin-top: 16px;
      display:flex;
      gap: 12px;
      flex-wrap: wrap;
      align-items:center;
      justify-content:flex-start;
      position: relative;
    }

    button{
      border:0;
      border-radius: 999px;
      padding: 12px 16px;
      font-size: 16px;
      cursor:pointer;
      user-select:none;
      -webkit-tap-highlight-color: transparent;
      touch-action: manipulation;
      transition: transform 140ms ease, filter 140ms ease, opacity 140ms ease, box-shadow 140ms ease;
      position: relative;
      will-change: transform;
      min-width: 120px;
      font-weight: 800;
    }
    button:active{ transform: scale(0.98); }

    #yesBtn{
      background: var(--pink);
      color:white;
      box-shadow: 0 10px 24px rgba(255,77,136,0.28);
    }

    #noBtn{
      background:#fff;
      color: var(--pink2);
      border:1px solid rgba(255,46,116,0.25);
    }

    #msgBox{
      margin-top: 14px;
      font-weight: 750;
      opacity: 0.95;
      min-height: 24px;
    }

    /* Celebration overlay */
    #celebrate{
      position: fixed;
      inset: 0;
      pointer-events:none;
      z-index: 50;
      display:none;
    }
    #celebrate.show{ display:block; }

    /* Fireworks particles */
    .spark{
      position: absolute;
      left: 0; top: 0;
      width: 8px; height: 8px;
      border-radius: 999px;
      opacity: 0.95;
      transform: translate(-50%, -50%);
      animation: fly 900ms ease-out forwards;
      will-change: transform, opacity;
      filter: saturate(1.2);
    }
    @keyframes fly{
      to{
        transform: translate(var(--dx), var(--dy)) scale(0.2);
        opacity: 0;
      }
    }

    .heart{
      position:absolute;
      transform: translate(-50%, -50%);
      font-size: 18px;
      animation: float 1100ms ease-out forwards;
      opacity: 0.95;
      will-change: transform, opacity;
      text-shadow: 0 8px 18px rgba(255,77,136,0.25);
    }
    @keyframes float{
      to{
        transform: translate(calc(var(--dx)), calc(var(--dy))) scale(0.9);
        opacity: 0;
      }
    }

    /* NO explode animation */
    .boom{
      animation: boom 420ms ease-out forwards;
    }
    @keyframes boom{
      35%{ transform: translate(var(--tx), var(--ty)) scale(1.2) rotate(8deg); opacity: 1; }
      100%{ transform: translate(var(--tx), var(--ty)) scale(3.2) rotate(18deg); opacity: 0; filter: blur(2px); }
    }

    /* YES ‚Äúaggressive‚Äù wiggle */
    .wiggle{
      animation: wiggle 260ms ease-in-out;
    }
    @keyframes wiggle{
      0%{ transform: scale(var(--ys)) rotate(0deg); }
      30%{ transform: scale(var(--ys)) rotate(-2deg); }
      60%{ transform: scale(var(--ys)) rotate(2deg); }
      100%{ transform: scale(var(--ys)) rotate(0deg); }
    }

    /* Mobile: stack buttons */
    @media (max-width: 420px){
      .btnRow{ gap: 10px; }
      button{ width: 100%; }
    }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card" id="card">
      <div class="badge">üíå</div>
      <h1>HALLO, Masha üíó</h1>
      <p>Quick question:</p>
      <div class="question">Will you be my Valentine?</div>

      <div class="btnRow" id="btnRow">
        <button id="yesBtn" type="button">Yes</button>
        <button id="noBtn" type="button">No</button>
      </div>

      <div id="msgBox"></div>
    </div>
  </div>

  <div id="celebrate"></div>

  <script>
    const yesBtn = document.getElementById("yesBtn");
    const noBtn  = document.getElementById("noBtn");
    const card   = document.getElementById("card");
    const celebrate = document.getElementById("celebrate");
    const msgBox = document.getElementById("msgBox");

    let noClicks = 0;
    let noDetached = false;

    // YES scaling (also grows as NO is clicked)
    let yesScale = 1.0;

    // Funny lines for each NO click (10 total)
    const noLines = [
      "wow‚Ä¶ no again?",
      "that‚Äôs CRAZY behavior üò≠",
      "ok but like‚Ä¶ why though?",
      "this is starting to get hurtful‚Ä¶.",
      "bestie please",
      "the button is literally begging",
      "JUST CLICK YES ALREADY üò≠",
      "i‚Äôm watching you pick no on purpose",
      "last chance‚Ä¶ be nice üòê",
      "alright. consequences."
    ];

    // YES click: celebrate and lock in
    yesBtn.addEventListener("click", () => {
      // final dramatic grow
      yesScale = Math.min(yesScale + 0.25, 2.6);
      applyYesEnergy(true);

      msgBox.textContent = "‚úÖ";
      launchCelebration();

      yesBtn.disabled = true;
      noBtn.disabled = true;
      yesBtn.style.cursor = "default";
      noBtn.style.cursor = "default";
    });

    // NO click: shrink slightly each time, move around, funny text, explode at 10
    noBtn.addEventListener("click", () => {
      noClicks++;

      if (!noDetached){
        detachNoButton();
        noDetached = true;
      }

      // Shrink NO a bit every click
      const noScale = Math.max(0.35, 1 - noClicks * 0.06); // 10 clicks -> ~0.4
      // Make sure it keeps its translate-ish look if we ever add it
      noBtn.style.transform = `scale(${noScale})`;

      // Funny bottom text
      msgBox.textContent = noLines[Math.min(noClicks - 1, noLines.length - 1)];

      // YES gets bigger + more intense every NO click
      yesScale = Math.min(yesScale + 0.12, 2.4);
      applyYesEnergy();

      // Keep NO moving (a little) each click to be annoying
      moveNoRandom();

      if (noClicks >= 10){
        explodeNo();
      }
    });

    function applyYesEnergy(extra=false){
      // scale + glow increases with yesScale
      yesBtn.style.setProperty("--ys", yesScale.toFixed(2));
      yesBtn.style.transform = `scale(${yesScale})`;

      const glow = 0.20 + (yesScale - 1) * 0.25; // grows with scale
      yesBtn.style.boxShadow = `0 10px 24px rgba(255,77,136,0.28), 0 0 28px rgba(255,77,136,${Math.min(glow,0.85)})`;

      // Wiggle more often as it gets ‚Äúaggressive‚Äù
      yesBtn.classList.remove("wiggle");
      // force reflow so animation retriggers
      void yesBtn.offsetWidth;
      yesBtn.classList.add("wiggle");

      // Change text slightly as intensity rises (no "I love you")
      if (!extra){
        if (yesScale < 1.35) yesBtn.textContent = "Yes";
        else if (yesScale < 1.75) yesBtn.textContent = "YES";
        else if (yesScale < 2.1) yesBtn.textContent = "YES ‚úÖ";
        else yesBtn.textContent = "YES NOW ‚úÖ";
      } else {
        yesBtn.textContent = "YES ‚úÖ";
      }
    }

    function detachNoButton(){
      // Place NO absolutely within the card, keeping its current spot
      const cardRect = card.getBoundingClientRect();
      const noRect = noBtn.getBoundingClientRect();

      const left = noRect.left - cardRect.left;
      const top  = noRect.top  - cardRect.top;

      card.style.position = "relative";

      noBtn.style.position = "absolute";
      noBtn.style.left = `${left}px`;
      noBtn.style.top  = `${top}px`;

      // keep comfortable tapping on mobile
      noBtn.style.minWidth = "120px";
    }

    function moveNoRandom(){
      const pad = 14;

      const cardRect = card.getBoundingClientRect();
      const btnRect  = noBtn.getBoundingClientRect();

      const maxX = cardRect.width - btnRect.width - pad*2;
      const maxY = cardRect.height - btnRect.height - pad*2;

      const x = pad + Math.random() * Math.max(0, maxX);
      const y = pad + Math.random() * Math.max(0, maxY);

      noBtn.style.left = x + "px";
      noBtn.style.top  = y + "px";

      // store for boom animation vars
      noBtn.style.setProperty("--tx", x + "px");
      noBtn.style.setProperty("--ty", y + "px");
    }

    function explodeNo(){
      const rect = noBtn.getBoundingClientRect();
      const cx = rect.left + rect.width/2;
      const cy = rect.top + rect.height/2;

      // button boom
      noBtn.classList.add("boom");

      // little burst
      burst(cx, cy, 30);

      setTimeout(() => {
        noBtn.style.display = "none";
      }, 430);
    }

    // Celebration fireworks (hearts + sparks)
    function launchCelebration(){
      celebrate.classList.add("show");

      const bursts = 9;
      let i = 0;

      const interval = setInterval(() => {
        i++;
        const x = window.innerWidth  * (0.15 + Math.random()*0.7);
        const y = window.innerHeight * (0.20 + Math.random()*0.5);
        burst(x, y, 36);

        if (i >= bursts){
          clearInterval(interval);
          setTimeout(() => {
            celebrate.classList.remove("show");
            celebrate.innerHTML = "";
          }, 950);
        }
      }, 140);
    }

    function burst(x, y, count){
      const emojis = ["üíó","üíñ","üíò","üíù","üíï","‚ù§Ô∏è"];
      const sparkColors = ["#ff4d88","#ff2e74","#ff6fb0","#ff9ac8","#ffd1dc","#ffffff"];

      for (let i=0; i<count; i++){
        const s = document.createElement("div");
        s.className = "spark";
        s.style.left = x + "px";
        s.style.top  = y + "px";

        const angle = Math.random()*Math.PI*2;
        const dist  = 60 + Math.random()*180;
        const dx = Math.cos(angle)*dist;
        const dy = Math.sin(angle)*dist;

        s.style.setProperty("--dx", dx + "px");
        s.style.setProperty("--dy", dy + "px");
        s.style.background = sparkColors[(Math.random()*sparkColors.length)|0];

        celebrate.appendChild(s);
        setTimeout(() => s.remove(), 950);

        if (Math.random() < 0.40){
          const h = document.createElement("div");
          h.className = "heart";
          h.textContent = emojis[(Math.random()*emojis.length)|0];
          h.style.left = x + "px";
          h.style.top  = y + "px";

          const hdx = (Math.random()*2-1) * (40 + Math.random()*140);
          const hdy = -(40 + Math.random()*180);

          h.style.setProperty("--dx", hdx + "px");
          h.style.setProperty("--dy", hdy + "px");

          celebrate.appendChild(h);
          setTimeout(() => h.remove(), 1200);
        }
      }
    }
  </script>
</body>
</html>
